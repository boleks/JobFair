<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <h:outputStylesheet library = "css" name = "bootstrap.css" />
        <h:outputStylesheet library = "css" name = "style.css" /> 
        <title>JobFair - Pregled Kompanije </title>
        <f:metadata>    
            <f:viewAction action="#{contollerPristup.proveraStudent}" />
        </f:metadata>
    </h:head>
    <h:body class="bg-light">

        <div id="header">
            <ui:insert name="header" >
                <ui:include src="/template/headerTemplate.xhtml" />
            </ui:insert>
        </div>

        <div class="container shadow bg-white rounded rounded-sm">

            <div class="row">

                <div class="col-8 mt-4">

                    <div class="row bg-light ml-2 rounded-sm shadow-sm">
                        <div class="col-12 mt-4">
                            <h3 class="text-center">Kompanija: #{controllerStudentPretraga.kompanijaPregled.naziv}</h3>
                            <hr/>
                        </div>
                        <div class="col-6">
                            <div class="row">
                                <div class="col-12 mb-1 mt-2">

                                    <h4>Osnovne informacije:</h4>
                                    <hr class="mb-3"/>                        
                                </div>

                                <div class="col-12 mb-1">
                                    <strong>Adresa: </strong> <h:outputText value="#{controllerStudentPretraga.kompanijaPregled.adresa}"/>
                                </div>

                                <div class="col-12 mb-1">
                                    <strong>Grad: </strong> <h:outputText value="#{controllerStudentPretraga.dohvatiImeGrada(controllerStudentPretraga.kompanijaPregled.grad)}"/>
                                </div>

                            </div>

                        </div>
                        <div class="offset-1 col-4 mt-2">

                            <h:graphicImage height="150px" width="150px" class="img-thumbnail" value="/resources/slike/#{controllerStudentPretraga.kompanijaPregled.slika}"/>

                        </div>


                        <hr class="col-10 mb-3"/>
                        <div class="col-6 mb-1">
                            <strong>Direktor: </strong> <h:outputText value="#{controllerStudentPretraga.kompanijaPregled.direktor}"/>
                        </div>
                        <div class="col-6 mb-1">
                            <strong>PIB: </strong> <h:outputText value="#{controllerStudentPretraga.kompanijaPregled.pib}"/>
                        </div>

                        <div class="col-6 mb-1">
                            <strong>Web sajt </strong> <h:outputText value="#{controllerStudentPretraga.kompanijaPregled.websajt}"/>                                                
                        </div>
                        <div class="col-6 mb-1">
                            <strong>Trenutni broj zaposlenih: </strong> <h:outputText value="#{controllerStudentPretraga.kompanijaPregled.brojZaposlenih}"/>                                                
                        </div>
                        <div class="col-12 mb-1">
                            <strong>Email: </strong> <h:outputText value="#{controllerStudentPretraga.kompanijaPregled.email}"/>                                                
                        </div>

                        <hr class="col-10 mb-3"/>
                        <div class="col-6 mb-3">
                            <strong>Delatnost: </strong> <h:outputText value="#{controllerStudentPretraga.dohvatiDelatnostNaziv(controllerStudentPretraga.kompanijaPregled.delatnost)}"/>
                        </div>
                        <div class="col-6 mb-3">
                            <strong>Uza delatnost </strong> <h:outputText value="#{controllerStudentPretraga.kompanijaPregled.uzaDelatnost}"/>
                        </div>                      

                    </div>

                    <div class="row bg-light ml-2 mt-4 rounded-sm shadow-sm ">

                        <div class="col-12 mb-1 mt-3">

                            <h3>Otvoreni konkursi:</h3>
                            <hr class="mb-3"/>                        
                        </div>

                        <div class="col-12">
                            <h:form>
                                <div class="row">

                                    <ui:repeat var="konkurs" value="#{controllerStudentPretraga.konkursiKompanije}">

                                        <div class="col-12 mb-1">
                                            <h5><strong>Naziv konkursa: </strong> <h:outputText value="#{konkurs.nazivPozicija}"/></h5>
                                        </div>                            

                                        <div class="col-4 mb-1">
                                            <strong>Tip konkursa: </strong><br/>
                                            <h:outputText rendered="#{konkurs.tip == 'P'}" value="Praksa"/>
                                            <h:outputText rendered="#{konkurs.tip == 'Z'}" value="Zapslenje"/>
                                        </div>
                                        <div class="col-4 mb-1">
                                            <strong>Rok za konkurisanje: </strong><br/>
                                            <h:outputText value="#{konkurs.rokZaPrijavu}">
                                                <f:convertDateTime pattern = "dd-MM-yyyy" />
                                            </h:outputText>
                                        </div>
                                        <div class="col-2">
                                            <h:commandButton class="btn btn-primary ml-5" value="Opsirnije" action="#{controllerStudentPretraga.opsirnijeKonkurs(konkurs)}"/>
                                        </div>
                                        <div class="col-12 text-center">
                                            <hr class="mb-3"/>
                                        </div>                                        

                                    </ui:repeat>

                                </div>
                            </h:form>

                        </div>

                    </div>

                </div>



                <div id="desni-meni" class="col-4 mt-4">

                    <ui:insert name="desnimeni" >
                        <ui:include src="/template/desniMeniTemplate.xhtml" />
                    </ui:insert>

                </div>

            </div>

        </div>

        <div id="footer">
            <ui:insert name="footer" >
                <ui:include src="/template/footerTemplate.xhtml" />
            </ui:insert>
        </div>

    </h:body>
</html>

